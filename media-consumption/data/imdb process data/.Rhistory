setwd("C:\\xampp\\htdocs\\yathish1618.github.io\\media-consumption\\data\\imdb process data")
existing <- read.csv("..\\imdb-ratings.csv")
new <- read.csv("Movies I've Seen.csv")
new <- rbind(new,read.csv("Documentaries_Shorts.csv"))
new <- rbind(new,read.csv("TV Series.csv"))
View(new)
names(new)
View(existing)
names(existing)
names(existing)[1:len(names(existing))-2]
names(existing)[1:length(names(existing))-2]
length(names(existing))
names(existing)[c(1:length(names(existing))-2)]
names(existing)[c(1:3)]
names(existing)[c(1:length(names(existing))-2)]
length(names(existing))
names(existing)[c(1:13)]
new <- subset(new, select = names(existing)[c(1:13)])
View(new)
View(existing)
to_update <- existing
?merge
View(new)
View(new)
latest_ratings <- subset(new,select = c("IMDb.Rating","Num.Votes"))
latest_ratings <- subset(new,select = c("const","IMDb.Rating","Num.Votes"))
View(latest_ratings)
latest_ratings <- subset(new,select = c("Const","IMDb.Rating","Num.Votes"))
to_update <- subset(existing,select = -c("IMDb.Rating","Num.Votes"))
View(to_update)
?subset
to_update <- subset(existing,select = -c(IMDb.Rating,Num.Votes))
latest_ratings <- subset(new,select = c(Const,IMDb.Rating,Num.Votes))
to_update <- subset(existing,select = -c(IMDb.Rating,Num.Votes))
to_update <- merge(to_update,latest_ratings,by = Const, all.y = T)
to_update <- merge(to_update,latest_ratings,by = c("Const"), all.y = T)
View(to_update)
to_update <- merge(to_update,latest_ratings,by = c("Const"))
to_update <- subset(existing,select = -c(IMDb.Rating,Num.Votes))
to_update <- merge(to_update,latest_ratings,by = c("Const"))
?intersect
setdiff(existing$Const,to_update$Const)
View(to_update)
setdiff(new$Const,to_update$Const)
?subset
to_insert <- subset(new,Const %in% setdiff(new$Const,to_update$Const))
to_update <- rbind(to_update,to_insert)
View(existing)
names(existing)
?substr
to_insert$Date.Rated..Fixed. <- substr(to_insert$Date.Rated,7,11)
View(to_insert)
to_insert$Date.Rated..Fixed. <- substr(to_insert$Date.Rated,1,4)
View(to_insert)
to_insert$Rewatch.No. <- NA
to_update <- rbind(to_update,to_insert)
sum(existing$Rewatch.No. <> NA)
sum(existing$Rewatch.No. != NA)
sum(existing$Rewatch.No. = NA)
sum(existing$Rewatch.No. == NA)
sum(existing$Rewatch.No. == "NA")
sum(existing$Rewatch.No. == "")
sum(existing$Rewatch.No. == ""
sum(existing$Rewatch.No. == "")
existing$Rewatch.No. == "")
existing$Rewatch.No. == ""
which(existing$Rewatch.No.==1)
which(existing$Rewatch.No.==NULL)
which(existing$Rewatch.No.==NA)
which(existing$Rewatch.No.=="NA")
which(existing$Rewatch.No.=="")
View(to_update)
is.na(existing$Rewatch.No.)
sum(is.na(existing$Rewatch.No.))
sum(!is.na(existing$Rewatch.No.))
write.csv("imdb-ratings.csv")
write.csv(to_update,"imdb-ratings.csv")
write.csv(to_update,"imdb-ratings.csv", row.names = F)
write.csv(to_update,"imdb-ratings.csv", row.names = F)
to_update <- to_update[,c(1,2,3,4,5,6,14,7,8,9,15,10,11,12,13)]
existing <- read.csv("..\\imdb-ratings.csv")
new <- read.csv("Movies I've Seen.csv")
new <- rbind(new,read.csv("Documentaries_Shorts.csv"))
new <- rbind(new,read.csv("TV Series.csv"))
new <- subset(new, select = names(existing)[c(1:13)])
latest_ratings <- subset(new,select = c(Const,IMDb.Rating,Num.Votes))
to_update <- subset(existing,select = -c(IMDb.Rating,Num.Votes))
to_update <- merge(to_update,latest_ratings,by = c("Const"))
to_insert <- subset(new,Const %in% setdiff(new$Const,to_update$Const))
to_insert$Date.Rated..Fixed. <- substr(to_insert$Date.Rated,1,4)
to_insert$Rewatch.No. <- 0
to_update <- rbind(to_update,to_insert)
to_update <- to_update[,c(1,2,3,4,5,6,14,7,8,9,15,10,11,12,13)]
names(to_update) <- names(existing)
write.csv(to_update,"imdb-ratings.csv", row.names = F)
existing <- read.csv("..\\imdb-ratings.csv")
new <- read.csv("Movies I've Seen.csv")
new <- rbind(new,read.csv("Documentaries_Shorts.csv"))
new <- rbind(new,read.csv("TV Series.csv"))
new <- subset(new, select = names(existing)[c(1:13)])
latest_ratings <- subset(new,select = c(Const,IMDb.Rating,Num.Votes))
to_update <- subset(existing,select = -c(IMDb.Rating,Num.Votes))
to_update <- merge(to_update,latest_ratings,by = c("Const"))
to_insert <- subset(new,Const %in% setdiff(new$Const,to_update$Const))
to_insert$Date.Rated..Fixed. <- substr(to_insert$Date.Rated,1,4)
to_insert$Rewatch.No. <- 0
to_update <- rbind(to_update,to_insert)
to_update <- to_update[,c(1,2,3,4,5,6,14,7,8,9,15,10,11,12,13)]
names(to_update) <- names(existing)
write.csv(to_update,"imdb-ratings.csv", row.names = F)
View(existing)
View(to_insert)
View(new)
